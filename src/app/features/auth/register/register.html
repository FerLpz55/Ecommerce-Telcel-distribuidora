<div class="auth-page">
  <div class="auth-card">
    <h2>Crear cuenta</h2>
    @if (error()) {
      <div class="alert-error">{{ error() }}</div>
    }
    <form (ngSubmit)="onSubmit()" #regForm="ngForm">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input id="nombre" type="text" [(ngModel)]="nombre" name="nombre" required placeholder="Tu nombre">
      </div>
      <div class="form-row">
        <div class="form-group">
          <label for="ap_paterno">Apellido paterno</label>
          <input id="ap_paterno" type="text" [(ngModel)]="apellido_paterno" name="apellido_paterno" required placeholder="Apellido paterno">
        </div>
        <div class="form-group">
          <label for="ap_materno">Apellido materno</label>
          <input id="ap_materno" type="text" [(ngModel)]="apellido_materno" name="apellido_materno" required placeholder="Apellido materno">
        </div>
      </div>
      <div class="form-group">
        <label for="correo">Correo electrónico</label>
        <input id="correo" type="email" [(ngModel)]="correo" name="correo" required email placeholder="tu@email.com">
      </div>
      <div class="form-group">
        <label for="contrasena">Contraseña</label>
        <input id="contrasena" type="password" [(ngModel)]="contrasena" name="contrasena" required minlength="6" placeholder="Mínimo 6 caracteres">
      </div>
      <div class="form-group">
        <label for="confirmar">Confirmar contraseña</label>
        <input id="confirmar" type="password" [(ngModel)]="confirmar_contrasena" name="confirmar_contrasena" required placeholder="Repite tu contraseña">
        @if (passwordMismatch) {
          <span class="field-error">Las contraseñas no coinciden</span>
        }
      </div>
      <button type="submit" class="btn-submit" [disabled]="regForm.invalid || passwordMismatch || loading()">
        @if (loading()) { Registrando... } @else { Crear cuenta }
      </button>
    </form>
    <p class="auth-link">¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión</a></p>
  </div>
</div>
