<section class="hero-slider">
  <div class="slider-container" [style.transform]="'translateX(-' + (currentBannerIndex() * 100) + '%)'">
    @for (banner of banners(); track banner.id_banner; let i = $index) {
      <div class="slide" [style.background-image]="'url(/bannersImg/' + banner.imagen_url + ')'">
        <div class="hero-overlay">
          <h1>{{ banner.titulo }}</h1>
          <p>{{ banner.descripcion }}</p>
          <a [routerLink]="banner.enlace" class="btn-hero">Ver tienda</a>
        </div>
      </div>
    }
    @if (banners().length === 0) {
      <div class="slide placeholder">
        <div class="hero-overlay">
          <h1>Bienvenido a R y L Moviles</h1>
          <p>Tu distribuidor autorizado Telcel</p>
          <a routerLink="/tienda" class="btn-hero">Ver tienda</a>
        </div>
      </div>
    }
  </div>

  @if (banners().length > 1) {
    <button class="slider-btn prev" (click)="prevBanner()">
      <i class="fas fa-chevron-left"></i>
    </button>
    <button class="slider-btn next" (click)="nextBanner()">
      <i class="fas fa-chevron-right"></i>
    </button>
    
    <div class="slider-dots">
      @for (banner of banners(); track banner.id_banner; let i = $index) {
        <span class="dot" [class.active]="currentBannerIndex() === i" (click)="setBanner(i)"></span>
      }
    </div>
  }
</section>

@if (categories().length > 0) {
  <section class="categories">
    <h2 class="section-title">Categor√≠as</h2>
    <div class="categories-grid">
      @for (cat of categories(); track cat.id_categoria) {
        <a routerLink="/tienda" [queryParams]="{categoria: cat.id_categoria}" class="category-card">
          @if (cat.imagen) {
            <img [src]="'/categoriasImg/' + cat.imagen" [alt]="cat.nombre" class="category-img">
          }
          <span>{{ cat.nombre }}</span>
        </a>
      }
    </div>
  </section>
}

@if (featuredProducts().length > 0) {
  <section class="products-section">
    <h2 class="section-title">Productos destacados</h2>
    <div class="products-grid">
      @for (product of featuredProducts(); track product.id_producto) {
        <app-product-card [product]="product" />
      }
    </div>
    <div class="section-cta">
      <a routerLink="/tienda" class="btn-see-all">
        <i class="fas fa-store"></i> Ver todos los productos
      </a>
    </div>
  </section>
}
