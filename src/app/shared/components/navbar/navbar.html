<header>
  <div class="header-main-bar">
    <div class="header-content-top">
      <div class="logo-group">
        <a routerLink="/home" class="logo-link">
          <img src="assets/Logo3.png" alt="R y L Moviles" class="logo-img">
          <span class="logo-text">R y L Moviles</span>
        </a>
        <div class="telcel-authorized">
          <img src="assets/Logooriginal.png" alt="Telcel" class="telcel-img">
          <p>DISTRIBUIDOR AUTORIZADO</p>
        </div>
      </div>

      <div class="search-bar">
        <input type="text" placeholder="Buscar productos..." (keyup.enter)="search()">
        <button type="button" aria-label="Buscar" (click)="search()">
          <i class="fas fa-search"></i>
        </button>
      </div>

      <div class="header-right-icons">
        @if (auth.isAuthenticated()) {
          <a routerLink="/home" class="header-icon-link" title="Mi cuenta">
            <i class="fas fa-user-circle"></i>
          </a>
          <a (click)="auth.logout()" class="header-icon-link" title="Cerrar sesión" style="cursor:pointer">
            <i class="fas fa-sign-out-alt"></i>
          </a>
        } @else {
          <a routerLink="/login" class="header-icon-link" title="Iniciar sesión">
            <i class="fas fa-user-circle"></i>
          </a>
        }
        <a routerLink="/carrito" class="header-icon-link cart-icon-header" title="Ver carrito">
          <i class="fas fa-shopping-cart"></i>
          @if (cart.itemCount() > 0) {
            <span class="cart-badge">{{ cart.itemCount() }}</span>
          }
        </a>
      </div>
    </div>
  </div>

  <div class="header-nav-bar">
    <nav class="main-nav">
      <div class="nav-item dropdown">
        <a href="javascript:void(0)">Tienda en Línea <i class="fas fa-caret-down"></i></a>
        <div class="dropdown-content">
          <a routerLink="/tienda">Ver todo</a>
          <hr>
          @for (cat of categories(); track cat.id_categoria) {
            <a routerLink="/tienda" [queryParams]="{categoria: cat.id_categoria}">{{ cat.nombre }}</a>
          }
        </div>
      </div>
      <div class="nav-item">
        <a routerLink="/tienda">Productos</a>
      </div>
      <div class="nav-item">
        <a routerLink="/carrito">Carrito</a>
      </div>
    </nav>
  </div>
</header>
